<?xml version="1.0" encoding="ASCII"?><pogoDsl:PogoSystem xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pogoDsl="http://www.esrf.fr/tango/pogo/PogoDsl" xmi:version="2.0">
<classes name="MCADxpXmap"><description language="Cpp" description="This Device Server controls the MCA DXP-XMAP from XIA (cPCI).&#10;&#9;&#9;It uses the XIA handel library.&#10;&#9;&#9;The ini file is loaded into the xMAP.&#10;&#9;&#9;1 spectrum attribute is created dynamically for each channel (detector).&#10;&#9;&#9;N roi scalar attribute are dynamically created for each channel (detector)."><identification classFamily="Acquisition" contact="at synchrotron-soleil.fr - langlois" platform="Windows" bus="Compact PCI" manufacturer="XIA" reference="Dxp-Xmap"><keyWords>1D</keyWords></identification></description><attributes name="nbBins" attType="Scalar" description="Number of Bins for each inputs.\naka: mca_length"><dataType xsi:type="pogoDsl:IntType"/></attributes><attributes name="nbChannels" attType="Scalar" description="Number of Channels"><dataType xsi:type="pogoDsl:IntType"/></attributes><attributes name="peakingTime" attType="Scalar" description="Peaking time of the energy filter, specified in ms"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="dynamicRange" attType="Scalar" description="Energy range corresponding to 40% of the total ADC range, specified in eV"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="presetType" attType="Scalar" description="Sets the preset run type:\n0-&gt;NONE\n1-&gt;FIXED_REAL\n2-&gt;FIXED_LIVE\n3-&gt;FIXED_EVENTS\n4-&gt;FIXED_TRIGGERS"><dataType xsi:type="pogoDsl:ShortType"/></attributes><attributes name="presetValue" attType="Scalar" description="When a preset run type other then 0 is set, this value is either the number of\ncounts or the time (specified in seconds)"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="accumulate" attType="Scalar" description="Flag saying if the Xmap will accumulate data between 2 Start"><dataType xsi:type="pogoDsl:ShortType"/></attributes><attributes name="currentMode" attType="Scalar" description="Current Mode:\n0-&gt;MCA\n1-&gt;MAP\n2-&gt;SCA"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="mode" attType="Scalar" description="Choose the mode of acquisition:\n0-&gt; MCA\n1-&gt; MAP\n2-&gt; SCA"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="currentConfigFile" attType="Scalar" description="Current XIA configuration file : .ini file"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="mapPixelsNumber" attType="Scalar" description="Number of pixels (step) for the Mapping acquisition."><dataType xsi:type="pogoDsl:IntType"/></attributes><attributes name="mapPixelsPerBufferNumber" attType="Scalar" description="Number of Pixels per buffer for Mapping acquisition.\n-1 : let the driver calculate the good value."><dataType xsi:type="pogoDsl:IntType"/></attributes><attributes name="selectedChannelForSetRois" attType="Scalar" description="Selected Channel for SetRois:\n-1 -&gt; ALL Channels\n0 -&gt; channel00\n1 -&gt; channel01\n..."><dataType xsi:type="pogoDsl:ShortType"/></attributes><attributes name="pixelAdvanceMode" attType="Scalar" description="The xMAP supports three modes of pixel advance: GATE, SYNC and HOST control.\n0: GATE, 1: SYNC, 2: HOST\nGATE: Trigger input to LEMO connector\nSYNC: Like GATE, but with option to divide in put by N. Can be used to divide stepper motor pulses,for ,example, to have each pixel be 25 motor steps\nHOST: Auto advance via the device itself"><dataType xsi:type="pogoDsl:ShortType"/></attributes><attributes name="ticksPerPixel" attType="Scalar" description="One primary method of advancing the pixel is to use the SYNC input as a pixel clock. \nUsing this method, the pixel will advance for every N positive pulses, where N is set using the sync_count acquisition value. \nN can range from 1 to 65535. Finally, the pulses must be at least 40 ns wide to be recognized by the xMAP"><dataType xsi:type="pogoDsl:UIntType"/></attributes><attributes name="currentPixel" attType="Scalar" description="current pixel of the mapping"><dataType xsi:type="pogoDsl:UIntType"/></attributes><attributes name="mappingStorageFilePath" attType="Scalar" description="Path of the mapping storage"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="nbAcqPerFile" attType="Scalar" description="Number of acquisition per file"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="roisStartsEnds" attType="Spectrum" description="Rois Starts/Ends of the selected Channel"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><commands name="State" description="This command gets the device state (stored in its device_state data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StateType"/></argout></commands><commands name="Status" description="This command gets the device status (stored in its device_status data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="Start" description="Start an acquisition for the Value specified in the attribute presetValue.&#10;&#9;&#9;&#9;acquisition will be stopped either automatically after the elapsed value, or by an Abort ."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Stop" description="Stop the acquisition"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="SetROIs" description="Set the ROIs.&#10;&#9;&#9;&#9;the parameter is an array with values going by pair:&#10;&#9;&#9;&#9;tab[0]=126, tab[1]=238 -&gt; first ROI starts from 126, ends to 238&#10;&#9;&#9;&#9;tab[2]=1569,tab[3]=2368 -&gt; second ROI starts from 1569, ends to 2368."><argin><type xsi:type="pogoDsl:IntArrayType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="ChooseMode" description="Choose the acquisition mode:&#10;&#9;&#9;&#9;0-&gt;MCA&#10;&#9;&#9;&#9;1-&gt;MAP&#10;&#9;&#9;&#9;2-&gt;SCA"><argin><type xsi:type="pogoDsl:ShortType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="SaveParametersToCurrentINIFile" description="Save the current Parameters to an INI file"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="SaveParametersToNewINIFile" description="Save current Xmap parameters to a new INI file"><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="LoadConfigFile" description="Load a new config file (.ini)"><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Reinit" description="Used to simulate an Init (delete_device + init_device) when a new INI file is loaded"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="NexusResetBufferIndex" description="Reset the Nexus buffer index to 1"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Abort" description="Call the Stop command.&#10;&#9;&#9;&#9;used for backward compatibility"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="GetDataStreams" description="Returns the flyscan data streams associated with this device."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><deviceProperties name="ConfigFile" description=".ini configuration file"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="XIADeviceType" description="Which kind of XIA device shall be controlled?&#10;&#9;&#9;&#9;Allowed values are XMAP, SATURN, MERCURY"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="MappingStorageType" description="How should the mapping data be stored?&#10;&#9;&#9;&#9;Allowed values are (NO_DATA_STORE,TEST_FILE_STORE, TANGO_STORE, RAW_STORE, NEXUS_STORE)"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="MappingStorageFilePrefix" description="Prefix of the mapping storage file"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="Timebase" description="Timebase for device that is used in calculation of statistics (XMAP: 320e-9, MERCURY: 20MHz/16 -&gt; 800 ns)."><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="SpoolID" description="Flyscan spool ID"><type xsi:type="pogoDsl:StringType"/></deviceProperties></classes></pogoDsl:PogoSystem>