<?xml version="1.0" encoding="ASCII"?><pogoDsl:PogoSystem xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pogoDsl="http://www.esrf.fr/tango/pogo/PogoDsl" xmi:version="2.0">
<classes name="ImgCalibration"><description language="Cpp" description=""><identification classFamily="Calculation" contact="vince_soleil" platform="" bus="" manufacturer="" reference=""/></description><attributes name="sourceImage" attType="Image" description="The last distorted image"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="correctedImage" attType="Image" description="The undistorted version of sourceImage"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="sourcePattern" attType="Image" description="The currently learned calibration pattern"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="correctedPattern" attType="Image" description="The undistorted version of `sourcePattern`"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="errorMap" attType="Image" description="the undistorted calibration pattern on which is drawn the model\nerror for each calibration point of the pattern, scaled by a factor of 30 (in pixel units)"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="delaunaySubdiv" attType="Image" description="the obtained Delaunay triangulation of the calibration points \n(an internal state of the calibration algorithm)"><dataType xsi:type="pogoDsl:UShortType"/></attributes><attributes name="isCalibrated" attType="Scalar" description="boolean indicating if a calibration pattern has been learned.\nif false, corrected images are simple raw copy."><dataType xsi:type="pogoDsl:BooleanType"/></attributes><attributes name="xMagFactor" attType="Scalar" description="if U are the units of XSpacing, xMagFactor gives the correspondence\n between pixels and spacial units in U/pixel"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="yMagFactor" attType="Scalar" description="if U are the units of YSpacing, yMagFactor gives the correspondence\n between pixels and spacial units in U/pixel"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="modelError" attType="Scalar" description="The mean error per calibration point between the observed data and the calibration model,\nin the undistorted coordinate system, in mm"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="roi" attType="Spectrum" description=""><dataType xsi:type="pogoDsl:IntType"/></attributes><commands name="State" description="This command gets the device state (stored in its device_state data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StateType"/></argout></commands><commands name="Status" description="This command gets the device status (stored in its device_status data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="Calibrate" description="Gets the image from the remote device, copies it to `sourcePattern`,&#10;&#9;&#9;&#9;calibrates with this grid, undistorts the grid, copies the result to `correctedPattern`, and updates the `errorMap`&#10;&#9;&#9;&#9;and `delaunaySubdiv` attributes.&#10;&#9;&#9;&#9;This command generates an exception if a remote device is not specified."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Undistort" description="This command gets a new image from the remote device, copies it to `SourceImage`,&#10;&#9;&#9;&#9;undistorts it with respect to the grid which was previously learned, and copies the result to `CalibratedImage`.&#10;&#9;&#9;&#9;&#10;&#9;&#9;&#9;This command is disabled in CONTINUOUS mode, and also in ONESHOT mode if a remote device has not been specified."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Start" description="[CONTINUOUS mode only] starts the periodic grabbing of image from the remote device"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Stop" description="[CONTINUOUS mode only] stops the periodic grabbing of image from the remote device"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><deviceProperties name="RemoteDevice" description="the name of the device on which the source image is taken"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="RemoteAttribute" description="the name of the attribute corresponding to the source image"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="PullPeriod" description="the period in ms at which a new image is retrieved from the remote device and undistorted"><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="XSpacing" description="the spacing of calibration points in the horizontal direction, in mm"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="YSpacing" description="the spacing of calibration points in the vertical direction, in mm"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Mode" description="can be ONESHOT or CONTINUOUS.&#10;&#9;&#9;&#9;&#10;&#9;&#9;&#9;If ONESHOT, learning a calibration pattern is done by calling the `Learn` method (if RemoteDevice and RemoteAttribute are properly set) or by writing to the `CalibPattern` attribute (in that case there is no need to specify a remote device);&#10;&#9;&#9;&#9;undistorting an image is done by calling the `Undistort` method (if a remote device is specified) or by writing the `SourceImage` attribute (works either a remote device is specified or not).&#10;&#9;&#9;&#9;&#10;&#9;&#9;&#9;If CONTINUOUS, a remote device must be specified. Then a new image is undistorted at a frequency defined by the `PullPeriod` property.&#10;&#9;&#9;&#9;Learning a calibration pattern is done by calling the `Learn` method. The `Undistort` command is disabled and the `SourceImage` and `CalibPattern` attributes are not writable."><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="AutoStart" description="[CONTINUOUS mode only] Automatically starts the grabbing of images from the remote device"><type xsi:type="pogoDsl:BooleanType"/></deviceProperties></classes></pogoDsl:PogoSystem>