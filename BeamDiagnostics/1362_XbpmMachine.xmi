<?xml version="1.0" encoding="ASCII"?><pogoDsl:PogoSystem xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pogoDsl="http://www.esrf.fr/tango/pogo/PogoDsl" xmi:version="2.0">
<classes name="XbpmMachine"><description language="Cpp" description="it calculates the vertical positions of the beam. calculation:&#10;&#9;&#9;Z1 = f (Ia, Id,G, offsets,factors...)&#10;&#9;&#9;Z1 = f (Ib, Ic,offsets,factors...)&#10;&#9;&#9;&#10;&#9;&#9;where:&#10;&#9;&#9;Ia = generated current on blade A&#10;&#9;&#9;Ib = generated current on blade B&#10;&#9;&#9;Ic = generated current on blade C&#10;&#9;&#9;Id = generated current on blade D&#10;&#9;&#9;G = locum4 amplifier gain&#10;&#9;&#9;and offset &amp; facors ..."><identification classFamily="BeamDiagnostics" contact="at synchrotron-soleil.fr - xavier.elattaoui" platform="All Platforms" bus="Not Applicable" manufacturer="none" reference=""><keyWords>Calculation</keyWords></identification></description><attributes name="current1" attType="Scalar" description="average current  on channel 1\nAverage over n samples :\nwhere n = (integretion_time * sampling_frequency)/4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="current2" attType="Scalar" description="average current  on channel 2\nAverage over n samples :\nwhere n = (integretion_time * sampling_frequency)/4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="current3" attType="Scalar" description="average current  on channel 3\nAverage over n samples :\nwhere n = (integretion_time * sampling_frequency)/4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="current4" attType="Scalar" description="average current  on channel 4\nAverage over n samples :\nwhere n = (integretion_time * sampling_frequency)/4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="verticalPosition1" attType="Scalar" description="Z1 = Kz1_factor x log10(X1) + offsets ...\nwhere:\nG = range / 10\nX1 = Ia/Id\nIa = Va*G + ca\nId = Vd*G + cd"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="verticalPosition2" attType="Scalar" description="Z2 = Kz2_factor x log10(X2) + offsets ...\nwhere:\nG = range / 10\nX2 = Ib/Ic\nIb = Vb*G + cb\nIc = Vc*G + cc"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="gain" attType="Scalar" description="according to the Locum4 input range the gain change:\n\nInput Range&#9;gain\n(micro_A)            (A/V)\n1000&#9;100&#9;\n100&#9;10\n10&#9;1\n1&#9;0.1\n0.1&#9;0.01\n0.01&#9;0.001&#9;&#9;\n0.001&#9;0.0001\n0.0001&#9;0.00001"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="enableAutomaticGain" attType="Scalar" description="enable auto range"><dataType xsi:type="pogoDsl:BooleanType"/></attributes><attributes name="xPos" attType="Scalar" description=""><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="zPos" attType="Scalar" description=""><dataType xsi:type="pogoDsl:DoubleType"/></attributes><commands name="State" description="This command gets the device state (stored in its device_state data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StateType"/></argout></commands><commands name="Status" description="This command gets the device status (stored in its device_status data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="Start" description="start acquisition"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Stop" description="stop acquisition"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><deviceProperties name="Kz1_Factor" description="Coefficient used with the dipole measurement mode&#10;&#9;&#9;&#9;(AD) exterior blades"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Kz2_Factor" description="Coefficient used with the dipole measurement mode&#10;&#9;&#9;&#9;(BC) exterior blades"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Delta_Z" description="Coefficient used with the dipole measurement mode"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Ca" description="current offset on electrode A. this is the current measured when the beam is cut"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Cb" description="current offset on electrode B. this is the current measured when the beam is cut"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Cc" description="current offset on electrode C. this is the current measured when the beam is cut"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Cd" description="current offset on electrode D. this is the current measured when the beam is cut"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Ka" description="GAIN correction of the electrode A"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Kb" description="GAIN correction of the electrode B"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Kc" description="GAIN correction of the electrode C"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Kd" description="GAIN correction of the electrode AGAIN correction of the electrode D"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="MisalignementOffset" description=""><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="ElectronicOffset" description=""><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="OperatorOffset" description="operator offset"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Locum4ProxyName" description=""><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="LowVoltageThreshold" description="if the input voltages of the ADC decrease this threshold, the corresponding&#10;&#9;&#9;&#9;average current attributes become ALARM ( ex : if |Vmes| &lt; low_threshold)"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="HighVoltageThreshold" description="if the input voltages of the ADC exceed this threshold, the corresponding&#10;&#9;&#9;&#9;average current attributes become ALARM ( ex : if |Vmes|&gt;  threshold)"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="SaiControllerProxyName" description="name of the SaiController device proxy"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="OffsetZ1" description="offset on vertical position 1"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="OffsetZ2" description="offset on vertical position 2"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Z1CorrectionTable" description="offset list for Z1 position. one offset is associated to one gain.&#10;&#9;&#9;&#9;Offset are ordered accortding increase gain order."><type xsi:type="pogoDsl:Double[]Type"/></deviceProperties><deviceProperties name="Z2CorrectionTable" description="offset list for Z2 position. one offset is associated to one gain.&#10;&#9;&#9;&#9;Offset are ordered accortding increase gain order."><type xsi:type="pogoDsl:Double[]Type"/></deviceProperties><deviceProperties name="XBPMVersion" description="XBPM version. Value must be in range [1,2].&#10;&#9;&#9;&#9;This property has no default value and must be defined."><type xsi:type="pogoDsl:ShortType"/></deviceProperties><deviceProperties name="Kx_Factor" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 1.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="Kz_Factor" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 1.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="MisalignementOffsetX" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 0.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="MisalignementOffsetZ" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 0.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="OffsetX" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 0.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="OffsetZ" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 0.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="OperatorOffsetX" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 0.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="OperatorOffsetZ" description="This property is only supported by the XBPM version 2&#10;&#9;&#9;&#9;Defaults to 0.0"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="XCorrectionTable" description="X gain correction table"><type xsi:type="pogoDsl:Double[]Type"/></deviceProperties><deviceProperties name="ZCorrectionTable" description="Z gain correction table"><type xsi:type="pogoDsl:Double[]Type"/></deviceProperties><deviceProperties name="Formula" description="0 : use old formula to compute beam position.&#10;&#9;&#9;&#9;1 : use the new one."><type xsi:type="pogoDsl:ShortType"/></deviceProperties></classes></pogoDsl:PogoSystem>