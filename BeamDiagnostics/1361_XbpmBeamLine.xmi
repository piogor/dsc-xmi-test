<?xml version="1.0" encoding="ASCII"?><pogoDsl:PogoSystem xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pogoDsl="http://www.esrf.fr/tango/pogo/PogoDsl" xmi:version="2.0">
<classes name="XbpmBeamLine"><description language="Cpp" description="This device calculates the vertical and horizontal positions of the beam:&#10;&#9;&#9;&#10;&#9;&#9;X = f (Ia,Ib,Ic Id,G,offsets,factors, geometry ...)&#10;&#9;&#9;Y = f (Ia,Ib,Ic Id,G,offsets,factors, geometry...)&#10;&#9;&#9;&#10;&#9;&#9;where:&#10;&#9;&#9;Ia =  current read on blade A &#10;&#9;&#9;Ib =  current read on blade B &#10;&#9;&#9;Ic =  current read on blade C &#10;&#9;&#9;Id =  current read on blade D &#10;&#9;&#9;G = locum4 amplifier gain &#10;&#9;&#9;offsets &amp; factors = attributes of the  device &#10;&#9;&#9;geometry = property of the device &#10;&#9;&#9;&#10;&#9;&#9;The calculation of beam position is the following: &#10;&#9;&#9;for  square geometry &#10;&#9;&#9;{&#10;&#9;&#9;Qx = ((I0 + I3) - (I1 + I2))/Isum; &#10;&#9;&#9;Qz = ((I0 + I1) - (I3 + I2))/Isum; &#10;&#9;&#9;X = horizontalPositionFactor * Qx + horizontalPositionOffset; &#10;&#9;&#9;Z = verticalPositionFactor * Qz + verticalPositionOffset; &#10;&#9;&#9;}&#10;&#9;&#9;for cross geometry  &#10;&#9;&#9;{&#10;&#9;&#9;Qx = (I1 - I0)/(I1 + I0); &#10;&#9;&#9;Qz = (I2 - I3)/(I2 + I3); &#10;&#9;&#9;X = horizontalPositionFactor * Qx  + horizontalPositionOffset; &#10;&#9;&#9;Z = verticalPositionFactor * Qz +  verticalPositionOffset; &#10;&#9;&#9;}"><identification classFamily="BeamDiagnostics" contact="at synchrotron-soleil.fr - buteau" platform="All Platforms" bus="Not Applicable" manufacturer="none" reference=""><keyWords>BeamDiag</keyWords></identification></description><attributes name="quadrant1" attType="Scalar" description="average current calculated over N samples on channel 1"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="quadrant2" attType="Scalar" description="average current calculated over N samples on channel 2"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="quadrant3" attType="Scalar" description="average current calculated over N samples on channel 3"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="quadrant4" attType="Scalar" description="average current calculated over N samples on channel 4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="intensity" attType="Scalar" description="tsum of the 4 quadrants"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="standardDeviationIntensity1" attType="Scalar" description="standard Deviation Intensity on channel 1"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="standardDeviationIntensity2" attType="Scalar" description="standard Deviation Intensity on channel 2"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="standardDeviationIntensity3" attType="Scalar" description="standard Deviation Intensity on channel 3"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="standardDeviationIntensity4" attType="Scalar" description="standard Deviation Intensity on channel 4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="horizontalPosition" attType="Scalar" description="horizontal position calculated as:\nX = Xfactor * ((I1 + I4) - (I2 + I3))/(sum) + Xoffset\nwhere:\n- I1 = (V1 + V1offset) * gain + I1offset\n- I2 = (V2 + V2offset) * gain + I2offset\n- I3 = (V3 + V3offset) * gain + I3offset\n- I4 = (V4 + V4offset) * gain + I4offset"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="verticalPosition" attType="Scalar" description="vertical position calculated as:\nZ = Zfactor * ((I1 + I2) - (I3 + I4))/(sum) + Zoffset\nwhere:\n- I1 = (V1 + V1offset) * gain + I1offset\n- I2 = (V2 + V2offset) * gain + I2offset\n- I3 = (V3 + V3offset) * gain + I3offset\n- I4 = (V4 + V4offset) * gain + I4offset"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="gain" attType="Scalar" description="the gain change according to the Locum4 input range:\n\nInput Range&#9;gain\n(micro_A)            (A/V)\n1000&#9;100&#9;\n100&#9;10\n10&#9;1\n1&#9;0.1\n0.1&#9;0.01\n0.01&#9;0.001&#9;&#9;\n0.001&#9;0.0001\n0.0001&#9;0.00001"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="measurementUnit" attType="Scalar" description="displays the current measurement unit"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="enableAutoRange" attType="Scalar" description="true: enable auto range\nfalse: disable auto range"><dataType xsi:type="pogoDsl:BooleanType"/></attributes><attributes name="quadrant1Spectrum" attType="Spectrum" description="samples aqcuired on channel corresponding to quadrant1"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="quadrant2Spectrum" attType="Spectrum" description="samples aqcuired on channel corresponding to quadrant2."><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="quadrant3Spectrum" attType="Spectrum" description="samples aqcuired on channel corresponding to quadrant 3"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><attributes name="quadrant4Spectrum" attType="Spectrum" description="samples aqcuired on channel corresponding to quadrant4"><dataType xsi:type="pogoDsl:DoubleType"/></attributes><commands name="State" description="This command gets the device state (stored in its device_state data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StateType"/></argout></commands><commands name="Status" description="This command gets the device status (stored in its device_status data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="SetUnit" description="set beam intensity measurement unit"><argin><type xsi:type="pogoDsl:UShortType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Start" description="Start acquisitions in continuous mode"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><commands name="Stop" description="Stop acquisitions"><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:VoidType"/></argout></commands><deviceProperties name="Locum4ProxyName" description="Locum4 Proxy Name"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="Geometry" description="you have to choose between 2 different modes, either insertion or bipolar mode.&#10;&#9;&#9;&#9;2 possible values&#10;&#9;&#9;&#9;- 1 : insertion&#10;&#9;&#9;&#9;- 2 : bipolar"><type xsi:type="pogoDsl:ShortType"/></deviceProperties><deviceProperties name="LowVoltageThreshold" description="if the input voltages of the ADC decrease this threshold, the corresponding&#10;&#9;&#9;&#9;average current attributes become ALARM ( ex : if |Vmes| &lt; low_threshold)"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="HighVoltageThreshold" description="if the input voltages of the ADC exceed this threshold, the corresponding&#10;&#9;&#9;&#9;average current attributes become ALARM ( ex : if |Vmes|&gt;  threshold)"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="CurrentOffset0" description="current offset on channel 1"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="CurrentOffset1" description="current offset on channel 2"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="CurrentOffset2" description="current offset on channel 3"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="CurrentOffset3" description="current offset on channel 4"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="VoltageOffset0" description="voltage offset on channel 1"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="VoltageOffset1" description="Voltage Offset on channel 2"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="VoltageOffset2" description="Voltage Offset on channel3"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="VoltageOffset3" description="Voltage Offset on channel 4"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="VerticalPositionFactor" description="Vertical Position Factor"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="VerticalPositionOffset" description="Vertical Position Offset"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="HorizontalPositionFactor" description="Hortizontal Position Factor"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="HorizontalPositionOffset" description="Hortizontal Position Offset"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="IntensityThreshold" description="cuurent out of which the Measured Intensity has a meaning (in micro-A)"><type xsi:type="pogoDsl:DoubleType"/></deviceProperties><deviceProperties name="SaiControllerProxyName" description="saiControllerProxyName"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="StartAtInit" description="Launch  command at Init. phase. [default = false]"><type xsi:type="pogoDsl:BooleanType"/></deviceProperties></classes></pogoDsl:PogoSystem>