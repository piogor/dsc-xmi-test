<?xml version="1.0" encoding="ASCII"?><pogoDsl:PogoSystem xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:pogoDsl="http://www.esrf.fr/tango/pogo/PogoDsl" xmi:version="2.0">
<classes name="PyAlarm"><description language="Python" description="This device server is used as a alarm logger, it connects to the list of attributes provided and verifies its values.&#10;&#9;&#9;Its focused on notifying Alarms by log files, Mail, SMS and (some day in the future) electronic logbook.&#10;&#9;&#9;It allows to setup alarms based on attribute values, connection status and boolean combinations of them.&#10;&#9;&#9;Independent configuration and mailing lists available for each alarm.&#10;&#9;&#9;You can acknowledge these alarms by a proper command.&#10;&#9;&#9;This device requires Fandango module to be available in the PYTHONPATH."><identification classFamily="SoftwareSystem" contact="sergi_rubio" platform="" bus="" manufacturer="" reference=""/></description><attributes name="VersionNumber" attType="Scalar" description="Version number and release note"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="LastAlarm" attType="Scalar" description="Returns Alarm:AlarmDate for last alarms until each is read once, then it`s cleared (used for archiving)"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="AlarmConfiguration" attType="Spectrum" description="Returns Property:Value list"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="ActiveAlarms" attType="Spectrum" description="Retrieves a list of Active Alarms showing AlarmDate:AlarmDescription"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="PastAlarms" attType="Spectrum" description="Returns AlarmDate:ACKDate:AlarmDescription for all OLD alarms already acknowledged"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="AlarmList" attType="Spectrum" description="Returns the content of the AlarmList property"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="AlarmReceivers" attType="Spectrum" description="Returns the content of the AlarmReceivers property"><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="PhoneBook" attType="Spectrum" description=""><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="SentEmails" attType="Image" description=""><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="SentSMS" attType="Image" description=""><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="AcknowledgedAlarms" attType="Spectrum" description=""><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="DisabledAlarms" attType="Spectrum" description=""><dataType xsi:type="pogoDsl:StringType"/></attributes><attributes name="FailedAlarms" attType="Spectrum" description=""><dataType xsi:type="pogoDsl:StringType"/></attributes><commands name="State" description="This command gets the device state (stored in its device_state data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StateType"/></argout></commands><commands name="Status" description="This command gets the device status (stored in its device_status data member) and returns it to the caller."><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="AddReceiver" description="Returns the actual value of AlarmReceivers"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringArrayType"/></argout></commands><commands name="EvaluateFormula" description="Evaluate an Alarm formula"><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="ResetAlarm" description="Reset alarm, it will be removed from active alarms"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringArrayType"/></argout></commands><commands name="Acknowledge" description="Acknowledge alarm no more reminders will be sent"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringArrayType"/></argout></commands><commands name="Renounce" description="Renounce (opposite to acknowledge) all emails will be send again"><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="Enable" description="Enable alarm that was put to disable state"><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="Disable" description="Disable enabled alarm."><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="ResetAll" description="Acknowledge alarm that was put into the file with alarms, it will be removed from active alarms"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="GetRelease" description=""><argin><type xsi:type="pogoDsl:VoidType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="GenerateReport" description="Generates report message"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringArrayType"/></argout></commands><commands name="CreateAlarmContext" description="Creates an Snap context for this Alarm"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:IntType"/></argout></commands><commands name="SendMail" description="Sends a mail message"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="SaveHtml" description="Saves a html report"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="SendSMS" description="Sends an SMS message"><argin><type xsi:type="pogoDsl:StringArrayType"/></argin><argout><type xsi:type="pogoDsl:StringType"/></argout></commands><commands name="CheckAcknowledged" description="Check if the alarm is on AcknowledgedAlarms list."><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:BooleanType"/></argout></commands><commands name="CheckDisabled" description="Check if the alarm is on DisabledAlarms list."><argin><type xsi:type="pogoDsl:StringType"/></argin><argout><type xsi:type="pogoDsl:BooleanType"/></argout></commands><deviceProperties name="PhoneBook" description="List of alarms declared like:. User:user@accelerator.es;SMS:+34666555666"><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="SMSConfig" description="Arguments for sendSMS command"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="FromAddress" description="Address that will appear as Sender in mail and SMS"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="AllowedActions" description="List of OS commands that alarms are able to execute."><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="StartupDelay" description="Number of seconds that PyAlarm will wait before starting to evaluate alarms."><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="AlarmList" description="List of alarms to be monitorized. The format is:&#10;&#9;&#9;&#9;domain/family/member #It simply checks that dev is alive&#10;&#9;&#9;&#9;domain/family/member/attribute&gt;  VALUE&#10;&#9;&#9;&#9;domain/family/member/State == UNKNOWN&#10;&#9;&#9;&#9;domain/family/ * /Temperature&gt;  VALUE&#10;&#9;&#9;&#9;&#10;&#9;&#9;&#9;When using wildcards all slash / must be included"><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="AlarmReceivers" description="Users that will be notified for each alarm. The format is:&#10;&#9;&#9;&#9;[TYPE]:[ADDRESS]:[attributes];...&#10;&#9;&#9;&#9;&#10;&#9;&#9;&#9;[TYPE]: MAIL / SMS&#10;&#9;&#9;&#9;[ADDRESS] : operator@accelerator.es / +34666555444&#10;&#9;&#9;&#9;[attributes]: domain/family/member/attribute;domain/family/ *"><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="AlarmDescriptions" description="Description to be included in emails for each alarm. The format is:&#10;&#9;&#9;&#9;TAG:AlarmDescription..."><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="AlarmConfigurations" description="Configuration customization appliable to each alarm. The format is:&#10;&#9;&#9;&#9;TAG:PAR1=Value1;PAR2=Value2;..."><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="AlarmSeverities" description="ALARM:DEBUG/INFO/WARNING/ERROR #DEBUG alarms will not trigger messages"><type xsi:type="pogoDsl:String[]Type"/></deviceProperties><deviceProperties name="LogFile" description="File where alarms are logged, like /tmp/alarm_$NAME.log"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="LogLevel" description="stdout log filter"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="HtmlFolder" description="File where alarm reports are saved"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="AlarmThreshold" description="Min number of consecutive Events/Pollings that must trigger an Alarm."><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="Enabled" description="If False forces the device to Disabled state and avoids messaging; if INT then it will last only for N seconds after Startup; if a python formula is written it will be used to enable/disable the device"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="AlertOnRecovery" description="It can contain `email` and/or `sms` keywords to specify if an automatic message must be sent in case of alarm returning to safe level."><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="FlagFile" description="File where a 1 or 0 value will be written depending if theres active alarms or not.&#10;&#9;&#9;&#9;This file can be used by other notification systems."><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="PollingPeriod" description="Periode in SECONDS in which all attributes not event-driven will be polled; @TODO for convenience any value above 300 will be divided by 1000, it must be DEPRECATED in the future."><type xsi:type="pogoDsl:FloatType"/></deviceProperties><deviceProperties name="MaxMessagesPerAlarm" description="Max Number of messages to be sent each time that an Alarm is activated/recovered/reset."><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="FromAddress" description="Address that will appear as Sender in mail and SMS"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="SMSConfig" description="Arguments for sendSMS command"><type xsi:type="pogoDsl:StringType"/></deviceProperties><deviceProperties name="UseSnap" description="If false no snapshots will be trigered (unless specifically added to receivers)"><type xsi:type="pogoDsl:BooleanType"/></deviceProperties><deviceProperties name="CreateNewContexts" description="It enables PyAlarm to create new contexts for alarms if no matching context exists in the database."><type xsi:type="pogoDsl:BooleanType"/></deviceProperties><deviceProperties name="Reminder" description="If a number of seconds is set, a reminder mail will be sent while the alarm is still active, if 0 no Reminder will be sent."><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="AutoReset" description="If a number of seconds is set, the alarm will reset if the conditions are no longer active after the given interval."><type xsi:type="pogoDsl:FloatType"/></deviceProperties><deviceProperties name="StartupDelay" description="Number of seconds that PyAlarm will wait before starting to evaluate alarms."><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="EvalTimeout" description="Timeout for read_attribute calls, in milliseconds ."><type xsi:type="pogoDsl:IntType"/></deviceProperties><deviceProperties name="UseProcess" description="To create new OS processes instead of threads."><type xsi:type="pogoDsl:BooleanType"/></deviceProperties><deviceProperties name="UseTaurus" description="Use Taurus to connect to devices instead of plain PyTango."><type xsi:type="pogoDsl:BooleanType"/></deviceProperties><deviceProperties name="RethrowState" description="Whether exceptions in State reading will activate the Alarm."><type xsi:type="pogoDsl:BooleanType"/></deviceProperties><deviceProperties name="RethrowAttribute" description="Whether exceptions in Attribute reading will activate the Alarm."><type xsi:type="pogoDsl:BooleanType"/></deviceProperties><deviceProperties name="IgnoreExceptions" description="Value can be False/True/NaN to return Exception, None or NotANumber in case of read_attribute exception."><type xsi:type="pogoDsl:StringType"/></deviceProperties></classes></pogoDsl:PogoSystem>